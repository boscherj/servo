{
  "suppliers": {
    "Electric Systems Ltd": {
      "detect": {
        "must_contain_any": [
          "Electric Systems Ltd",
          "DESPATCH NOTE"
        ]
      },
      "block": {
        "start_line_regex": "^Document No Customer Ref Internal Code Item Code Description Qty Despatched$",
        "header_tokens": [
          "Document",
          "No",
          "Customer",
          "Ref",
          "Internal",
          "Code",
          "Item",
          "Code",
          "Description",
          "Qty",
          "Despatched"
        ],
        "stop_markers": [
          "^Page\\s+\\d+\\s+of\\s+\\d+$"
        ],
        "join_until_match": false,
        "join_separator": " "
      },
      "item_regex": "^(?P<document_no>\\d{7,})\\s+(?P<customer_ref>CF0-\\d+)\\s+(?P<internal_code>\\d+)\\s+(?P<item_code>[A-Z0-9]+)\\s+(?P<description>.+?)\\s+(?P<qty_despatched>\\d+)$",
      "line_regex": "^(?P<document_no>\\d{7,})\\s+(?P<customer_ref>CF0-\\d+)\\s+(?P<internal_code>\\d+)\\s+(?P<item_code>[A-Z0-9]+)\\s+(?P<description>.+?)\\s+(?P<qty_despatched>\\d+)$",
      "post": {
        "int_fields": [
          "qty_despatched"
        ]
      },
      "meta": {
        "date_regex": "Despatch Date\\s+(\\d{4}-\\d{2}-\\d{2})"
      }
    },
    "Linear Supply Solutions (Europe) BV": {
      "detect": {
        "must_contain_any": [
          "Linear Supply Solutions (Europe) BV",
          "Bon de livraison",
          "Commande Client N°:"
        ]
      },
      "multi_blocks": true,
      "header_regex": "Commande\\s+Client\\s+N°:\\s*(?P<commande_client>CF0-\\d+)\\s+Commande\\s+Linear\\s+N°:\\s*(?P<commande_linear>CO\\d+)\\s+Date\\s+commande:\\s*(?P<date_commande>\\d{2}/\\d{2}/\\d{4})",
      "item_regex": "^(?P<pos>\\d+)\\s+(?P<marque>\\S+)\\s+(?P<code>\\S+)\\s+(?P<description>.+?)\\s+(?P<qte_commandee>\\d+)\\s+(?P<precedemment_livree>\\d+)\\s+(?P<qte_livree_ce_jour>\\d+)\\s+(?P<qte_a_suivre>\\d+)$",
      "post": {
        "int_fields": [
          "pos",
          "qte_commandee",
          "precedemment_livree",
          "qte_livree_ce_jour",
          "qte_a_suivre"
        ]
      }
    },
    "Linden Electro": {
      "detect": {
        "must_contain_any": [
          "Linden Electro s.r.o.",
          "INVOICE INV",
          "Barrandova 409/1"
        ]
      },
      "block": {
        "start_line_regex": "^Pos\\.?\\s+Item\\s+Qty\\s+Net\\s+Price\\s+Total",
        "stop_line_regex": null
      },
      "item_regex": "^(?P<pos>\\d+)\\s+(?P<item_code>[A-Z0-9\\-]+)\\s+(?P<qty>[\\d,\\.]+)\\s+(?P<net_price>[\\d,\\.]+)\\s+(?P<total>[\\d,\\.]+)",
      "post": {
        "int_fields": [
          "pos"
        ],
        "float_fields": [
          "qty",
          "net_price",
          "total"
        ]
      },
      "meta": {
        "invoice_regex": "INVOICE\\s+(INV\\d+)",
        "date_regex": "Date:\\s+(\\d{2}\\.\\d{2}\\.\\d{4})"
      }
    }
  }
}
