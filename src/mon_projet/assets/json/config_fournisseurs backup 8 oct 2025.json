{
  "standard_fields": {
    "order_number": "Numéro de commande client",
    "item_code": "Code article",
    "quantity_delivered": "Quantité livrée",
    "description": "Description"
  },
  "suppliers": {
    "Electric Systems Ltd": {
      "detect": {
        "must_contain_any": [
          "Electric Systems Ltd",
          "DESPATCH NOTE"
        ]
      },
      "block": {
        "start_line_regex": "^Document No Customer Ref Internal Code Item Code Description Qty Despatched$",
        "header_tokens": [
          "Document",
          "No",
          "Customer",
          "Ref",
          "Internal",
          "Code",
          "Item",
          "Code",
          "Description",
          "Qty",
          "Despatched"
        ],
        "stop_markers": [
          "^Page\\s+\\d+\\s+of\\s+\\d+$"
        ],
        "join_until_match": false,
        "join_separator": " "
      },
      "item_regex": "^(?P<document_no>\\d{7,})\\s+(?P<customer_ref>CF0-\\d+)\\s+(?P<internal_code>\\d+)\\s+(?P<item_code>[A-Z0-9]+)\\s+(?P<description>.+?)\\s+(?P<qty_despatched>\\d+)$",
      "line_regex": "^(?P<document_no>\\d{7,})\\s+(?P<customer_ref>CF0-\\d+)\\s+(?P<internal_code>\\d+)\\s+(?P<item_code>[A-Z0-9]+)\\s+(?P<description>.+?)\\s+(?P<qty_despatched>\\d+)$",
      "post": {
        "int_fields": [
          "qty_despatched"
        ]
      },
      "meta": {
        "date_regex": "Despatch Date\\s+(\\d{4}-\\d{2}-\\d{2})"
      },
      "field_mapping": {
        "order_number": "customer_ref",
        "item_code": "item_code",
        "quantity_delivered": "qty_despatched",
        "description": "description"
      }
    },
    "Linear Supply Solutions (Europe) BV": {
      "detect": {
        "must_contain_any": [
          "Linear Supply Solutions (Europe) BV",
          "Bon de livraison",
          "Commande Client N°:"
        ]
      },
      "multi_blocks": true,
      "header_regex": "Commande\\s+Client\\s+N°:\\s*(?P<commande_client>CF0-\\d+)\\s+Commande\\s+Linear\\s+N°:\\s*(?P<commande_linear>CO\\d+)\\s+Date\\s+commande:\\s*(?P<date_commande>\\d{2}/\\d{2}/\\d{4})",
      "item_regex": "^(?P<pos>\\d+)\\s+(?P<marque>\\S+)\\s+(?P<code>\\S+)\\s+(?P<description>.+?)\\s+(?P<qte_commandee>\\d+)\\s+(?P<precedemment_livree>\\d+)\\s+(?P<qte_livree_ce_jour>\\d+)\\s+(?P<qte_a_suivre>\\d+)$",
      "post": {
        "int_fields": [
          "pos",
          "qte_commandee",
          "precedemment_livree",
          "qte_livree_ce_jour",
          "qte_a_suivre"
        ]
      },
      "field_mapping": {
        "order_number": "header.commande_client",
        "item_code": "code",
        "quantity_delivered": "qte_livree_ce_jour",
        "description": "description"
      }
    },
    "Linden Electro": {
      "detect": {
        "must_contain_any": [
          "Linden Electro s.r.o.",
          "INVOICE INV",
          "Barrandova 409/1"
        ]
      },
      "block": {
        "start_line_regex": "^Pos\\.?\\s+Item\\s+Qty\\s+Net\\s+Price\\s+Total",
        "stop_line_regex": null
      },
      "item_regex": "^(?P<pos>\\d+)\\s+(?P<item_code>[A-Z0-9\\-]+)\\s+(?P<qty>[\\d,\\.]+)\\s+(?P<net_price>[\\d,\\.]+)\\s+(?P<total>[\\d,\\.]+)",
      "post": {
        "int_fields": [
          "pos"
        ],
        "float_fields": [
          "qty",
          "net_price",
          "total"
        ]
      },
      "field_mapping": {
        "order_number": "your_order",
        "item_code": "item_code",
        "quantity_delivered": "qty",
        "description": "description"
      }
    },
    "Prof-Elec": {
      "detect": {
        "must_contain_any": [
          "Prof-Elec",
          "PACKING LIST",
          "Purchase order nr:"
        ]
      },
      "multi_blocks": true,
      "header_regex": "^Purchase order (?P<purchase_order>CF0-\\d+)$",
      "item_regex": "^(?P<num>\\d+)\\s+(?P<code>\\S+)\\s+(?P<description>.+?)\\s+(?P<hs_code>\\d{8})\\s+(?P<coo>[A-Z]{2})\\s+(?P<quantity>\\d+(?:\\.\\d+)?)\\s+(?P<unit_weight>\\d+\\.\\d+)\\s+(?P<total_weight>\\d+\\.\\d+)$",
      "post": {
        "int_fields": [
          "num"
        ],
        "float_fields": [
          "quantity",
          "unit_weight",
          "total_weight"
        ]
      },
      "field_mapping": {
        "order_number": "header.purchase_order",
        "item_code": "code",
        "quantity_delivered": "quantity",
        "description": "description"
      }
    }
  }
}
